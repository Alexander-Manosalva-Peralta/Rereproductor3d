
    /* === TUS CANCIONES, IMÁGENES Y LETRAS === */
    const albums = [
      {
        title: 'Lost in the Night',
        artist: 'Alexander',
        cover: 'https://raw.githubusercontent.com/Alexander-Manosalva-Peralta/Rereproductor3d/main/assets/img/fondo5.jpg',
        song: 'https://raw.githubusercontent.com/Alexander-Manosalva-Peralta/Rereproductor3d/main/assets/music/Lost in the Night.mp3',
        lyrics: `Yeah…
Late night in Miami, baby
(Sabes que me pierdo en tu piel…)
Uh-huh

Velvet skies, your lips so divine
Tú y yo, sin tiempo, sin line
In the club, your eyes meet mine
Whisper slow, “bésame otra time”
Lights low, feeling that tension
Bodies move sin dirección
In your touch, I lose control
Baby, you’re my bad intention

Boy, you know you drive me crazy
Tu perfume me tiene lazy
In your eyes I see the flame
You just wanna play the game

Lost in your midnight confessions
Entre tus labios, mis obsesiones
You say “te quiero”, maybe you don’t
But I’ll still come back for more
(Yeah, I’ll still come back for more)
Perdidos en la noche, sin razón
Tú y yo jugando con el corazón
You say “te quiero”, maybe you don’t
But I’ll still come back for more

Your hands on me, can’t fake it
La luna mira, we naked
I whisper soft, “don’t let go”
You said, “mi amor, despacio”
Copa de vino, slow temptation
Your lips, my salvation
I’m your muse, tu perdición
We both lost in this canción

Girl, you shine in the moonlight (moonlight)
Drippin’ gold on your skin so fine (so fine)
Siento el fuego cuando bailas (cuando bailas)
Baby, this night never dies

Lost in your midnight confessions
Entre tus labios, mis obsesiones
You say “te quiero”, maybe you don’t
But I’ll still come back for more
(Yeah, I’ll still come back for more)
Perdidos en la noche, sin razón
Tú y yo jugando con el corazón
You say “te quiero”, maybe you don’t
But I’ll still come back for more

(Yeah…)
Still come back for more…
Perdidos… en la noche…
Baby, I’ll still come back for more…`,
        accent1: '#ff9ae0', accent2: '#b3b7ff'
      },
      {
        title: 'Dime que no',
        artist: 'Alexander',
        cover: 'https://raw.githubusercontent.com/Alexander-Manosalva-Peralta/Rereproductor3d/main/assets/img/poster.jpg',
        song: 'https://raw.githubusercontent.com/Alexander-Manosalva-Peralta/Rereproductor3d/main/assets/music/Dime que no.mp3',
        lyrics: `Mmm…
You want me, don’t you?
But you can’t have me…
(Shh…)

Baby, you know what you’re doing…
Tú juegas con fuego…
And I’m already burning…

Tus ojos dicen más que tu voz
Me miras y pierdo el control
You touch me slow, like sin
Y el tiempo se rompe aquí
Tu nombre suena en mi piel
Aunque sé que esto está mal también
No digas nada, no finjas fe
Solo acércate otra vez

I know you like the danger
Y yo no sé decir que no
Eres mi culpa favorita
Mi adicción sin perdón
Te pienso cuando cae el sol
En mis sueños, pierdo el rol
Baby, dime que no otra vez
Pa’ volver a hacerlo bien

We don’t need no love tonight
Solo fuego y electricidad
In the dark, you feel so right
Aunque sé que va a doler más

Dime que no (tell me no)
Y mírame cuando mientas
Sabes que yo (know you know)
Caeré en tus promesas lentas
Perdidos los dos (lost control)
En besos que nunca cuentan
Dime que no (tell me no)
Pa’ que vuelva y me envenenas

You love my chaos, I know
Te gusta cuando me voy
Regreso rota, sin voz
Y tú esperándome hoy
El deseo es religión
Tu cuerpo, mi confesión
No somos lo que decimos ser
Solo lo que hacemos después

You move slow, I lose faith
Tus labios saben a mistake
No me salves, déjame caer
Si el infierno eres tú, está bien

Dime que no (tell me no)
Y mírame cuando mientas
Sabes que yo (know you know)
Caeré en tus promesas lentas
Perdidos los dos (lost control)
En besos que nunca cuentan
Dime que no (tell me no)
Pa’ que vuelva y me envenenas

You want me, don’t you?
Say it...
Say it again...

Dime que no…
Para volver… otra vez.`,
        accent1: '#2be57c', accent2: '#0b6c3a'
      },
      {
        title: 'Entre la Noche y la Ciudad',
        artist: 'Alexander',
        cover: 'https://raw.githubusercontent.com/Alexander-Manosalva-Peralta/Rereproductor3d/main/assets/img/fondo16.jpg',
        song: 'https://raw.githubusercontent.com/Alexander-Manosalva-Peralta/Rereproductor3d/main/assets/music/Entre la Noche y la Ciudad.mp3',
        lyrics: `Las luces bailan en el río
Sombras flotan en el frío
Un susurro que no puedo atrapar

Tu nombre escrito en el aire
Se borra como un eco suave
Y el tiempo no deja de escapar

Amor, un recuerdo que arde
Se disuelve, se esconde
Tarde, entre la noche y la ciudad

Amor, como un sueño en el mar
Se pierde, se hunde sin lugar
Entre la noche y la ciudad

Las calles llevan tu perfume
En cada esquina hay un resumen
De lo que fuimos, de lo que no será

El cielo negro guarda secretos
Y la luna escribe en sus cuadernos
Todo lo que nunca pude gritar

Amor, un recuerdo que arde
Se disuelve, se esconde
Tarde, entre la noche y la ciudad

Amor, como un sueño en el mar
Se pierde, se hunde sin lugar
Entre la noche y la ciudad

Amor, uh-ru-ru
Amor, uh-ru-ru
Amor, uh-ru-ru
Amor, uh-ru-ru

Las calles llevan tu perfume
En cada esquina hay un resumen
De lo que fuimos, de lo que no será

El cielo negro guarda secretos
Y la luna escribe en sus cuadernos
Todo lo que nunca pude gritar

Entre la noche y la ciudad`,
        accent1: '#ff7ab6', accent2: '#7ce3ff'
      },
      {
        title: 'Tú y Yo en Su Plan',
        artist: 'Alexander',
        cover: 'https://raw.githubusercontent.com/Alexander-Manosalva-Peralta/Rereproductor3d/main/assets/img/fondo7.jpg',
        song: 'https://raw.githubusercontent.com/Alexander-Manosalva-Peralta/Rereproductor3d/main/assets/music/Gracias Dios.mp3',
        lyrics: `No fue casualidad, fue su voz la que habló,
en medio del ruido, su luz nos llamó.
Entre tantas almas, tus ojos brillaron,
como un cielo nuevo que Él me regaló.

Pre-Coro (entra el bajo y los pads)
Y entendí… que el amor tiene un tiempo perfecto,
que su gracia escribe en fuego los momentos.

Coro (entra batería y guitarras con fuerza, voz poderosa y góspel coral de fondo)
Gracias Dios, por ponerla en mi camino,
por mostrarme que el amor tiene destino.
Tú nos uniste en promesa y verdad,
no hay tormenta que nos pueda separar.
Tu plan es eterno, y en tu nombre amaré,
porque contigo, todo lo encontré.

Verso 2 (batería suave, progresión intensa)
Sus manos curaron mi fe y mi dolor,
ella fue tu respuesta, mi nueva canción.
Cuando caigo, su voz me levanta,
y en su mirada sé que estás Tú, mi esperanza.

Pre-Coro (más emotivo, con coros sutiles)
Cada paso, cada día, es propósito divino,
Tú soplaste vida en este destino.

Coro (repite más fuerte, con todo el gospel choir)
Gracias Dios, por ponerla en mi camino,
por mostrarme que el amor tiene destino.
Tú nos uniste en promesa y verdad,
no hay tormenta que nos pueda separar.
Tu plan es eterno, y en tu nombre amaré,
porque contigo, todo lo encontré.

Puente (épico, con solo de guitarra y piano emotivo)
Ohhh… si algún día la duda toca la puerta,
Tu amor será la fuerza que la cierra.
Y aunque el mundo cambie, y el sol se esconda,
Tu voluntad en nosotros siempre asombra.

Coro final (épico, con toda la banda y coro celestial)
Gracias Dios, por ponerla en mi destino,
Tu promesa vive en cada latido.
Tú nos soñaste, Tú nos formaste,
en tu amor eterno nos guardaste.
Y cuando el tiempo se acabe en la tierra,
Sé que en tu cielo… seguiremos bajo tu bandera.

Outro (solo piano y voz suave)
Tú y yo… en su plan…
por siempre, amén.`,
        accent1: '#ff7ab6', accent2: '#7ce3ff'
      }
    ];

    const carousel = document.getElementById('carousel');
    const miniThumb = document.getElementById('miniThumb');
    const progFill = document.getElementById('progFill');
    const nowBubble = document.getElementById('nowBubble');
    const tTitle = document.getElementById('tTitle');
    const tArtist = document.getElementById('tArtist');
    const duration = document.getElementById('duration');
    const audio = document.getElementById('audioPlayer');
    const lyricsPanel = document.getElementById('lyricsPanel');
    let idx = 0;
    const len = albums.length;
    const angleStep = 360 / len;
    const radius = 400;
    const spreadX = 320;

    albums.forEach((a, i)=>{
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `<div class="cover" style="background-image:url('${a.cover}')"></div>`;
      card.addEventListener('click',()=>goTo(i));
      carousel.appendChild(card);
    });

    function render(){
      const cards = Array.from(carousel.children);
      cards.forEach((card,i)=>{
        let pos = i - idx;
        if(pos > len/2) pos -= len;
        if(pos < -len/2) pos += len;
        const angle = pos * angleStep;
        const rad = angle * Math.PI/180;
        const z = Math.cos(rad) * radius;
        const x = Math.sin(rad) * spreadX;
        const rotateY = angle;
        const scale = 0.85 + ((Math.cos(rad)+1)/2) * 0.45;
        const opacity = 0.12 + ((Math.cos(rad)+1)/2) * 0.96;
        card.style.transform = `translate(-50%,-50%) translateX(${x}px) translateZ(${z}px) rotateY(${rotateY}deg) scale(${scale})`;
        card.style.zIndex = Math.round(1000 - Math.abs(pos*20));
        card.style.opacity = opacity;
        card.classList.toggle('center', i===idx);
      });

      const a = albums[idx];
      nowBubble.innerHTML = `<strong style="font-size:15px">${a.title}</strong><br><span style="opacity:0.85;font-weight:600;font-size:13px">${a.artist}</span>`;
      tTitle.textContent = a.title;
      tArtist.textContent = `${a.artist}`;
      miniThumb.style.backgroundImage = `url('${a.cover}')`;
      progFill.style.background = `linear-gradient(90deg, ${a.accent1}, ${a.accent2})`;
      audio.src = a.song;
      lyricsPanel.textContent = a.lyrics;
      audio.load();
    }

    function goTo(i){ idx = ((i%len)+len)%len; render(); if(playing) audio.play(); }
    document.getElementById('next').onclick = ()=>goTo(idx+1);
    document.getElementById('prev').onclick = ()=>goTo(idx-1);

    let playing=false;
    document.getElementById('play').onclick=()=>{
      playing=!playing;
      document.getElementById('play').textContent = playing?'▌▌':'▶';
      if(playing) audio.play(); else audio.pause();
    }

    audio.addEventListener('timeupdate',()=>{
      const p = (audio.currentTime / audio.duration)*100;
      progFill.style.width = p+'%';
      const m = Math.floor(audio.currentTime/60);
      const s = Math.floor(audio.currentTime%60).toString().padStart(2,'0');
      duration.textContent = `${m}:${s}`;
    });

    // === CONTROL DE VOLUMEN ===
    const volRange = document.getElementById('volRange');
    volRange.addEventListener('input',()=>{
      audio.volume = volRange.value;
    });


    // === MOSTRAR / OCULTAR LETRAS ===
    const lyricsBtn = document.getElementById('lyricsBtn');
    lyricsBtn.addEventListener('click',()=>{
      lyricsPanel.classList.toggle('show');
    });

    render();
